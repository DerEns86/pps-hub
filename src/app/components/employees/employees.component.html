<h2>Employees</h2>

<button 
mat-raised-button 
(click)="openAddDialog()"
style="margin-bottom: 16px;"
>Add</button>

<mat-accordion>

    @for (employee of getEmployeesList(); track $index) {
    <mat-expansion-panel>
        <mat-expansion-panel-header>
            <mat-panel-title>
                {{employee.employeeId}}
            </mat-panel-title>
            <mat-panel-title>
                {{employee.name}}, {{employee.surname}}
            </mat-panel-title>
            <mat-panel-description class="email">
                {{employee.email}}
            </mat-panel-description>
            <mat-panel-description class="machine">
            Machine: {{employee.activeMachine}}
            </mat-panel-description>

        </mat-expansion-panel-header>

        <div class="employee_details flex-between">
            <div>
                <p><b>E-mail: </b> {{employee.email}}</p>

                <p><b>Current Machine: </b> {{employee.activeMachine}}</p>
            </div>
            <div class="skills">
                <p><b>Skills: </b></p>
                <ul>
                    @for (skill of employee.skills; track $index) {
                    <li>{{skill}}</li>
                    }
                </ul>
            </div>
        </div>
        <div class="flex-between">
            <button mat-raised-button color="primary" (click)="editEmployee(employee)">Edit</button>
            <button mat-raised-button color="warn" (click)="deleteEmployee(employee)">Delete</button>
        </div>
    </mat-expansion-panel>
    }

</mat-accordion>